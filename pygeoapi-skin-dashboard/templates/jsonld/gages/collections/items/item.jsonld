{
	"@context": {
		"@vocab": "https://schema.org/",
		"xsd": "https://www.w3.org/TR/xmlschema-2/#",
		"rdfs": "http://www.w3.org/2000/01/rdf-schema#",
		"dc": "http://purl.org/dc/terms/",
		"dcat": "https://www.w3.org/ns/dcat#",
		"freq": "http://purl.org/cld/freq/",
		"qudt": "http://qudt.org/schema/qudt/",
		"qudt-units": "http://qudt.org/vocab/unit/",
		"qudt-quantkinds": "http://qudt.org/vocab/quantitykind/",
		"gsp": "http://www.opengis.net/ont/geosparql#",
		"locType": "http://vocabulary.odm2.org/sitetype",
		"odm2var": "http://vocabulary.odm2.org/variablename/",
		"odm2varType": "http://vocabulary.odm2.org/variabletype/",
		"hyf": "https://www.opengis.net/def/schema/hy_features/hyf/",
		"skos": "https://www.opengis.net/def/schema/hy_features/hyf/HY_HydroLocationType",
		"ssn": "http://www.w3.org/ns/ssn/",
		"ssn-system": "http://www.w3.org/ns/ssn/systems/"
	},
	"@id": "{{ data["@id"] }}",
	"@type": [
		"https://www.opengis.net/def/schema/hy_features/hyf/HY_HydrometricFeature",
		"https://www.opengis.net/def/schema/hy_features/hyf/HY_HydroLocation"
	],
    "name": "{{ data.name | safe  }}",
    "description": "{{ data.description | safe }}",
	{% if (data.subjectof or data.nws_url) %}
	"subjectOf": [
		{% if data.subjectof %}
		{
			"@type": "Dataset",
			"name": "{{ data.description | safe }}",
			"url": "{{ data.subjectof | safe }}",
			"provider": {
				"@id": "provider",
				"@type": "GovernmentOrganization",
				"name": "USGS",
				"url": "{{data.provider}}"
			}
		}
		{% endif %}
		{% if data.subjectof and data.nws_url %}
		,
		{% endif %}
		{% if data.nws_url %}
		{
			"@type": "Dataset",
			"url": "{{ data.nws_url | safe }}",
			"provider": {
				"@id": "provider",
				"@type": "GovernmentOrganization",
				"name": "USGS",
				"url": "{{data.provider}}"
			},
		}
		{% endif %}
	],
	{% endif %}
	
{% if data.provider %}
    "provider": "{{ data.provider }}",
{% endif %} 
{% if (data.nhdpv2_reachcode or data.mainstem_uri) %}    
	"hyf:referencedPosition":   
    [
{% if data.nhdpv2_reachcode %}  
		{
			"hyf:HY_IndirectPosition": {
{% if data.nhdpv2_reach_measure is not none %} 
				"hyf:distanceExpression": {
					"hyf:HY_DistanceFromReferent": { 
						"hyf:interpolative": {{ data.nhdpv2_reach_measure }}
					}
				},
				"hyf:distanceDescription": {
					"hyf:HY_DistanceDescription": "upstream"
				},
{% endif %} 
				"hyf:linearElement": {"@id": "https://geoconnex.us/nhdplusv2/reachcode/{{ data.nhdpv2_reachcode }}"}
			}
		}
{% if data.mainstem_uri %} 
,
{% endif %} 
{% endif %}  
{% if data.mainstem_uri %}  
		{
			"hyf:HY_IndirectPosition": {
				"hyf:linearElement": {"@id": "{{ data.mainstem_uri }}"}
			}
		}
{% endif %} 
	],     
{% endif %}    
	"hyf:HY_HydroLocationType": "hydrometricStation",
    "geo": {{ data['schema:geo'] | to_json | safe }},
    "gsp:hasGeometry": {{ data['gsp:hasGeometry'] | to_json }}
}